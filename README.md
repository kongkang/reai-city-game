# REAI City Game (斯坦福小镇风格网页游戏界面) V2

这是一个受"斯坦福小镇"AI项目启发而创建的网页游戏界面V2版本。用户可以通过图形用户界面 (GUI) 或 JavaScript API 与像素风格的角色和动态生成的地图进行交互。项目旨在模拟一个小型虚拟环境，其中角色可以接收指令移动并展示行为。

## 项目背景

本项目最初的目标是创建一个可以通过接口让角色在2D像素地图上走动和产生行为的网页界面。经过V1的基础实现和用户反馈，V2版本进行了大幅改进，增强了用户交互性和场景的动态性。

## V2 版本主要特性

*   **图形用户界面 (GUI) 交互**: 用户可以通过界面上的输入框和按钮轻松控制角色的移动和行为设定。
*   **A\* 寻路算法**: 角色移动采用A\*算法进行路径规划，能够智能避开障碍物并沿计算出的路径逐步移动。
*   **动态V2地图渲染**: 地图基于预定义的二维数组数据动态生成，支持多种图块类型（如草地、墙壁、门、室内地板），可展示简单的房屋结构。
*   **行为气泡修复**: 解决了V1版本中角色行为提示气泡被地图边框遮挡的问题。
*   **模块化代码**: JavaScript代码结构清晰，分为核心游戏逻辑、地图数据、寻路算法和UI控制器等模块。

## 如何本地运行

1.  将本仓库克隆或下载到本地。
2.  用现代浏览器（如Chrome, Firefox, Edge）直接打开根目录下的 `index.html` 文件。
    或者
3.  将整个项目文件夹部署到任何支持静态文件服务的Web服务器上。

## 如何交互

1.  **通过UI控件 (推荐)**:
    *   在"移动控制"区域输入目标X、Y坐标，点击"移动角色"按钮。
    *   在"行为控制"区域输入行为描述文本，点击"设置行为"按钮。
    *   界面会显示角色的当前状态和路径信息。
2.  **通过浏览器开发者控制台 (辅助/调试)**:
    *   打开浏览器的开发者控制台 (通常按 F12)。
    *   调用全局函数:
        *   `moveCharacter(tileX, tileY)`: 例如 `moveCharacter(5, 3)`
        *   `setCharacterAction(actionDescription)`: 例如 `setCharacterAction("正在休息")`

## 项目文件结构

```
/
├── index.html                 (主HTML文件)
├── css/
│   └── styles.css             (界面样式)
├── code/
│   ├── game_v3.js             (核心游戏逻辑)
│   ├── map_data_v2.js         (地图数据定义)
│   ├── pathfinding.js         (A*寻路算法)
│   └── ui_controller.js       (UI交互逻辑)
├── docs/
│   └── scene_elements_description_v2.md (场景元素概念设计)
```

## 未来可能的改进

基于 `docs/scene_elements_description_v2.md` 中的构想，未来可以进一步：
*   实现更细致的像素艺术图形资源，替代当前的纯色块图块。
*   增加更多场景元素和交互点。
*   引入更复杂的角色行为和AI逻辑。